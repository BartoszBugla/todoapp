{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"; //actions & functions\n\nimport { useForms } from \"../../customHooks/formHook\";\nimport { register } from \"../../redux/actions/authActions\"; //items\n\nimport { Form } from \"./LoginForm\";\nimport FormItem from \"../dumb/formItem\";\nimport SubmitButton from \"../dumb/SubmitButton\";\nimport Checkbox from \"../dumb/Checkbox\";\nimport Error from \"../dumb/Error\";\nimport { returnErrors, clearErrors } from \"../../redux/actions/errorActions\";\n\nconst RegisterForm = () => {\n  const dispatch = useDispatch();\n  const {\n    inputs,\n    handleInputChange\n  } = useForms();\n  const errMsg = useSelector(state => state.errors.msg);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      name,\n      lastName,\n      email,\n      password\n    } = inputs;\n    const user = {\n      name,\n      lastName,\n      email,\n      password\n    };\n\n    if (inputs.repeatPassword != inputs.password) {\n      return dispatch(returnErrors({\n        msg: \"password does not match\",\n        status: \"400\",\n        id: \"repeatPassword\"\n      }));\n    }\n\n    dispatch(clearErrors());\n    dispatch(register(user));\n  };\n\n  return __jsx(Form, {\n    autoComplete: \"off\",\n    onSubmit: handleSubmit\n  }, __jsx(FormItem, {\n    type: \"text\",\n    value: inputs.name,\n    onChange: handleInputChange,\n    name: \"name\",\n    placeholder: \"Imie\"\n  }), __jsx(FormItem, {\n    type: \"text\",\n    value: inputs.lastName,\n    onChange: handleInputChange,\n    name: \"lastName\",\n    placeholder: \"Nazwisko\"\n  }), __jsx(FormItem, {\n    type: \"email\",\n    value: inputs.email,\n    onChange: handleInputChange,\n    name: \"email\",\n    placeholder: \"Email\"\n  }), __jsx(FormItem, {\n    type: \"password\",\n    value: inputs.password,\n    onChange: handleInputChange,\n    name: \"password\",\n    placeholder: \"Has\\u0142o\"\n  }), __jsx(FormItem, {\n    type: \"password\",\n    value: inputs.repeatPassword,\n    onChange: handleInputChange,\n    name: \"repeatPassword\",\n    placeholder: \"Powt\\xF3rz Has\\u0142o\"\n  }), __jsx(Checkbox, {\n    onChange: handleInputChange,\n    name: \"eula\",\n    checked: inputs.eula\n  }, \"Do you agree Eula?\"), __jsx(Error, {\n    message: errMsg\n  }), __jsx(SubmitButton, {\n    type: \"submit\"\n  }, \"Zarejestuj si\\u0119\"));\n};\n\nexport default RegisterForm;","map":null,"metadata":{},"sourceType":"module"}