{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bartosz\\\\Desktop\\\\TodoApp\\\\components\\\\dumb\\\\Todo.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\"; //svg\n\nvar Delete = function Delete(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M416.875 114.441L405.57 80.555a31.527 31.527 0 0 0-29.941-21.578h-95.012V28.043C280.617 12.582 268.047 0 252.59 0h-87.008c-15.453 0-28.027 12.582-28.027 28.043v30.934H42.547a31.528 31.528 0 0 0-29.945 21.578L1.297 114.44a25.426 25.426 0 0 0 3.484 22.856 25.427 25.427 0 0 0 20.578 10.539h11.817L63.184 469.44C65.117 493.305 85.367 512 109.293 512h204.863c23.922 0 44.176-18.695 46.106-42.563l26.008-321.601h6.543A25.434 25.434 0 0 0 413.39 137.3a25.434 25.434 0 0 0 3.484-22.86zM167.555 30h83.062v28.977h-83.062zm162.804 437.02c-.68 8.402-7.796 14.98-16.203 14.98H109.293c-8.406 0-15.523-6.578-16.203-14.98L67.273 147.836h288.899zM31.793 117.836l9.27-27.79c.21-.64.808-1.07 1.484-1.07h333.082c.676 0 1.27.43 1.484 1.07l9.27 27.79zm0 0\"\n  }), __jsx(\"path\", {\n    d: \"M282.516 465.957c.265.016.527.02.793.02 7.925 0 14.55-6.211 14.964-14.22L312.36 181.36c.43-8.273-5.93-15.332-14.199-15.761-8.293-.442-15.328 5.925-15.762 14.199l-14.082 270.398c-.43 8.274 5.926 15.332 14.2 15.762zm0 0M120.566 451.793c.438 7.996 7.055 14.184 14.965 14.184.274 0 .555-.008.832-.024 8.27-.45 14.61-7.52 14.16-15.793L135.77 179.762c-.45-8.274-7.52-14.614-15.793-14.16-8.27.449-14.61 7.52-14.16 15.793zm0 0M209.254 465.977c8.285 0 15-6.715 15-15V180.578c0-8.285-6.715-15-15-15s-15 6.715-15 15v270.399c0 8.285 6.715 15 15 15zm0 0\"\n  }));\n};\n\nDelete.defaultProps = {\n  height: \"512pt\",\n  viewBox: \"-47 0 512 512\",\n  width: \"512pt\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar Edit = function Edit(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M456.836 76.168l-64-64.054c-16.125-16.139-44.177-16.17-60.365.031L45.763 301.682a10.733 10.733 0 0 0-2.688 4.587L.409 455.73a10.682 10.682 0 0 0 10.261 13.606c.979 0 1.969-.136 2.927-.407l149.333-42.703a10.714 10.714 0 0 0 4.583-2.69l289.323-286.983c8.063-8.069 12.5-18.787 12.5-30.192s-4.437-22.124-12.5-30.193zM285.989 89.737l39.264 39.264-204.996 204.997-14.712-29.434a10.671 10.671 0 0 0-9.542-5.896H78.921L285.989 89.737zm-259.788 353.4L40.095 394.5l34.742 34.742-48.636 13.895zm123.135-35.177l-51.035 14.579-51.503-51.503 14.579-51.035h28.031l18.385 36.771a10.671 10.671 0 0 0 4.771 4.771l36.771 18.385v28.032zm21.334-17.543v-17.082c0-4.042-2.281-7.729-5.896-9.542l-29.434-14.712 204.996-204.996 39.264 39.264-208.93 207.068zM441.784 121.72l-47.033 46.613-93.747-93.747 46.582-47.001c8.063-8.063 22.104-8.063 30.167 0l64 64c4.031 4.031 6.25 9.385 6.25 15.083s-2.219 11.052-6.219 15.052z\"\n  }));\n};\n\nEdit.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 469.336 469.336\"\n};\n\nvar Circle = function Circle(props) {\n  return __jsx(\"svg\", props, __jsx(\"circle\", {\n    cx: \"12.5\",\n    cy: \"12.5\",\n    r: \"11.25\",\n    stroke: \"#000\",\n    strokeWidth: \"2.5\"\n  }));\n};\n\nCircle.defaultProps = {\n  width: \"25\",\n  height: \"25\",\n  viewBox: \"0 0 25 25\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar Close = function Close(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M243.188 182.86L356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0\"\n  }));\n};\n\nClose.defaultProps = {\n  height: \"487.595\",\n  viewBox: \"0 0 365.696 365.696\",\n  width: \"487.595\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar Tick = function Tick(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M0 274.226l176.549 176.886L515.556 112.44l-48.67-47.997-290.337 290L47.996 225.891z\"\n  }));\n};\n\nTick.defaultProps = {\n  height: \"512\",\n  viewBox: \"0 0 515.556 515.556\",\n  width: \"512\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}; //actions\n\nimport convertDate from \"../../customHooks/convertDate\";\nimport { editTodo, checkTodo, deleteTodo } from \"../../redux/actions/todosActions\"; //elements\n\nimport Select from \"../dumb/Select\";\nimport FormItem from \"./formItem\";\nimport { useForms } from \"../../customHooks/formHook\";\nconst Container = styled.div.withConfig({\n  displayName: \"Todo__Container\",\n  componentId: \"sc-9i668h-0\"\n})([\"display:grid;grid-template-columns:50px 100px auto 75px;justify-items:center;align-items:center;padding:10px;border-top:10px;border-top:2px solid black;width:90%;margin:0 auto;min-height:2.5vh;font-size:1.1rem;font-family:\\\"Jost\\\";svg{height:25px;width:25px;margin:0 5px;&:hover{filter:drop-shadow(0px 0px 2px rgba(0,0,0,0.3));transform:scale(1.1);}}.edit:hover{fill:#03c04a;}.delete:hover{fill:#c2261f;}.circle{circle{fill:\", \";}}.circle:hover{transform:scale(1);circle{fill:#03c04a;}}\"], props => props.done ? \"#03c04a\" : \"none\");\nconst ModalItem = styled(FormItem).withConfig({\n  displayName: \"Todo__ModalItem\",\n  componentId: \"sc-9i668h-1\"\n})([\"color:black;&::placeholder{color:#888888 !important;}transform:scale(0.8);\"]);\n\nconst Todo = ({\n  todo = {}\n}) => {\n  const {\n    title,\n    hour,\n    minute,\n    _id,\n    done\n  } = todo;\n  const convertedHour = convertDate(hour, minute, \":\");\n  const {\n    setInputs,\n    inputs,\n    handleInputChange\n  } = useForms();\n  const containerRef = useRef(null);\n  const dispatch = useDispatch();\n  const editPayload = inputs;\n  console.log(done); //switch to edt\n\n  const switchEdit = () => {\n    setIsEdit(isEdit => !isEdit);\n  }; //delete action\n\n\n  const deleteThis = e => {\n    e.preventDefault();\n    dispatch(deleteTodo(_id));\n  }; //edit action\n\n\n  const editThis = e => {\n    e.preventDefault();\n    dispatch(editTodo(_id, editPayload));\n    switchEdit();\n  };\n\n  const checkThis = e => {\n    e.preventDefault();\n    dispatch(checkTodo(_id, {\n      done: !done\n    }));\n  };\n\n  const {\n    0: isEdit,\n    1: setIsEdit\n  } = useState(false); //initial input values\n\n  useEffect(() => {\n    setInputs(i => _objectSpread({}, i, {\n      title,\n      hour,\n      minute\n    }));\n  }, [isEdit]);\n\n  const eventHandler = e => {\n    if (containerRef.current && !containerRef.current.contains(event.target)) {\n      switchEdit();\n    }\n  }; //!\n  //!Editing\n  //!\n\n\n  if (isEdit) {\n    if (isEdit) document.addEventListener(\"mousedown\", eventHandler);\n    return __jsx(Container, {\n      ref: containerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Hour:\"), __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, __jsx(Select, {\n      name: \"hour\",\n      value: inputs.hour,\n      onChange: handleInputChange,\n      type: \"number\",\n      startNumber: \"0\",\n      lastNumber: \"24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }), \":\", __jsx(Select, {\n      name: \"minute\",\n      value: inputs.minute,\n      onChange: handleInputChange,\n      type: \"number\",\n      startNumber: \"0\",\n      lastNumber: \"59\",\n      divider: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    })), __jsx(ModalItem, {\n      value: inputs.title,\n      onChange: handleInputChange,\n      name: \"title\",\n      placeholder: \"Tytu\\u0142\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, __jsx(Tick, {\n      className: \"edit\",\n      onClick: editThis,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), __jsx(Close, {\n      className: \"delete\",\n      onClick: switchEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    })));\n  } //!\n  //!normal\n  //!\n\n\n  document.removeEventListener(\"mousedown\", eventHandler);\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, __jsx(Circle, {\n    done: done,\n    onClick: checkThis,\n    className: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, convertedHour), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, title), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, __jsx(Edit, {\n    className: \"edit\",\n    onClick: switchEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }), __jsx(Delete, {\n    className: \"delete\",\n    onClick: deleteThis,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport const ClearTodo = ({\n  todo = {}\n}) => {\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, \" \", __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, todo.hour), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, todo.title));\n};\nexport default Todo;","map":{"version":3,"sources":["C:/Users/Bartosz/Desktop/TodoApp/components/dumb/Todo.js"],"names":["React","useState","useEffect","useRef","styled","useDispatch","Delete","Edit","Circle","Close","Tick","convertDate","editTodo","checkTodo","deleteTodo","Select","FormItem","useForms","Container","div","props","done","ModalItem","Todo","todo","title","hour","minute","_id","convertedHour","setInputs","inputs","handleInputChange","containerRef","dispatch","editPayload","console","log","switchEdit","setIsEdit","isEdit","deleteThis","e","preventDefault","editThis","checkThis","i","eventHandler","current","contains","event","target","document","addEventListener","display","flexDirection","width","removeEventListener","ClearTodo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch } from \"react-redux\";\r\n//svg\r\nimport Delete from \"../svg/delete.svg\";\r\nimport Edit from \"../svg/edit.svg\";\r\nimport Circle from \"../svg/circle.svg\";\r\nimport Close from \"../svg/close.svg\";\r\nimport Tick from \"../svg/tick.svg\";\r\n//actions\r\nimport convertDate from \"../../customHooks/convertDate\";\r\nimport { editTodo, checkTodo, deleteTodo } from \"../../redux/actions/todosActions\";\r\n//elements\r\nimport Select from \"../dumb/Select\";\r\nimport FormItem from \"./formItem\";\r\nimport { useForms } from \"../../customHooks/formHook\";\r\nconst Container = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 50px 100px auto 75px;\r\n    justify-items: center;\r\n    align-items: center;\r\n    padding: 10px;\r\n    border-top: 10px;\r\n    border-top: 2px solid black;\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    min-height: 2.5vh;\r\n    font-size: 1.1rem;\r\n    font-family: \"Jost\";\r\n\r\n    svg {\r\n        height: 25px;\r\n        width: 25px;\r\n        margin: 0 5px;\r\n        &:hover {\r\n            filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.3));\r\n            transform: scale(1.1);\r\n        }\r\n    }\r\n    .edit:hover {\r\n        fill: #03c04a;\r\n    }\r\n    .delete:hover {\r\n        fill: #c2261f;\r\n    }\r\n    .circle {\r\n        circle {\r\n            fill: ${(props) => (props.done ? \"#03c04a\" : \"none\")};\r\n        }\r\n    }\r\n    .circle:hover {\r\n        transform: scale(1);\r\n        circle {\r\n            fill: #03c04a;\r\n        }\r\n    }\r\n`;\r\nconst ModalItem = styled(FormItem)`\r\n    color: black;\r\n    &::placeholder {\r\n        color: #888888 !important;\r\n    }\r\n    transform: scale(0.8);\r\n`;\r\nconst Todo = ({ todo = {} }) => {\r\n    const { title, hour, minute, _id, done } = todo;\r\n    const convertedHour = convertDate(hour, minute, \":\");\r\n    const { setInputs, inputs, handleInputChange } = useForms();\r\n    const containerRef = useRef(null);\r\n    const dispatch = useDispatch();\r\n    const editPayload = inputs;\r\n    console.log(done);\r\n    //switch to edt\r\n    const switchEdit = () => {\r\n        setIsEdit((isEdit) => !isEdit);\r\n    };\r\n    //delete action\r\n    const deleteThis = (e) => {\r\n        e.preventDefault();\r\n        dispatch(deleteTodo(_id));\r\n    };\r\n    //edit action\r\n    const editThis = (e) => {\r\n        e.preventDefault();\r\n        dispatch(editTodo(_id, editPayload));\r\n        switchEdit();\r\n    };\r\n    const checkThis = (e) => {\r\n        e.preventDefault();\r\n        dispatch(checkTodo(_id, { done: !done }));\r\n    };\r\n\r\n    const [isEdit, setIsEdit] = useState(false);\r\n\r\n    //initial input values\r\n    useEffect(() => {\r\n        setInputs((i) => ({\r\n            ...i,\r\n            title,\r\n            hour,\r\n            minute,\r\n        }));\r\n    }, [isEdit]);\r\n    const eventHandler = (e) => {\r\n        if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n            switchEdit();\r\n        }\r\n    };\r\n\r\n    //!\r\n    //!Editing\r\n    //!\r\n    if (isEdit) {\r\n        if (isEdit) document.addEventListener(\"mousedown\", eventHandler);\r\n\r\n        return (\r\n            <Container ref={containerRef}>\r\n                <p>Hour:</p>\r\n                <div style={{ display: \"flex\", flexDirection: \"row\", width: \"100%\" }}>\r\n                    <Select\r\n                        name=\"hour\"\r\n                        value={inputs.hour}\r\n                        onChange={handleInputChange}\r\n                        type=\"number\"\r\n                        startNumber=\"0\"\r\n                        lastNumber=\"24\"\r\n                    />\r\n                    :\r\n                    <Select\r\n                        name=\"minute\"\r\n                        value={inputs.minute}\r\n                        onChange={handleInputChange}\r\n                        type=\"number\"\r\n                        startNumber=\"0\"\r\n                        lastNumber=\"59\"\r\n                        divider=\"5\"\r\n                    />\r\n                </div>\r\n\r\n                <ModalItem\r\n                    value={inputs.title}\r\n                    onChange={handleInputChange}\r\n                    name=\"title\"\r\n                    placeholder=\"Tytuł\"\r\n                />\r\n\r\n                <div>\r\n                    <Tick className=\"edit\" onClick={editThis} />\r\n                    <Close className=\"delete\" onClick={switchEdit} />\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    //!\r\n    //!normal\r\n    //!\r\n    document.removeEventListener(\"mousedown\", eventHandler);\r\n    return (\r\n        <Container>\r\n            <Circle done={done} onClick={checkThis} className=\"circle\" />\r\n            <div>{convertedHour}</div>\r\n            <div>{title}</div>\r\n            <div>\r\n                <Edit className=\"edit\" onClick={switchEdit} />\r\n                <Delete className=\"delete\" onClick={deleteThis} />\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport const ClearTodo = ({ todo = {} }) => {\r\n    return (\r\n        <Container>\r\n            {\" \"}\r\n            <div>{todo.hour}</div>\r\n            <div>{todo.title}</div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Todo;\r\n"]},"metadata":{},"sourceType":"module"}