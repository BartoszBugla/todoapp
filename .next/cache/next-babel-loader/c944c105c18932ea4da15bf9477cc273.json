{"ast":null,"code":"import { TODO_ADDED, TODOS_LOADED, TODO_DELETED, TODO_EDITED } from \"../actions/types\";\nimport axios from \"axios\";\nexport var loadTodos = function loadTodos(userID, token) {\n  return function (dispatch) {\n    // Todos loading\n    axios.post(\"/todos\", {\n      userID: userID\n    }, tokenConfig(token)).then(function (res) {\n      dispatch({\n        type: TODOS_LOADED,\n        payload: res.data\n      });\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var addTodo = function addTodo(body, token) {\n  return function (dispatch) {\n    axios.post(\"/todos/add\", body, tokenConfig(token)).then(function (res) {\n      dispatch({\n        type: TODO_ADDED,\n        payload: res.data\n      });\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var deleteTodo = function deleteTodo(id) {\n  return function (dispatch) {\n    axios[\"delete\"](\"/todos/\".concat(id)).then(function (res) {\n      dispatch({\n        type: TODO_DELETED,\n        payload: id\n      });\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var editTodo = function editTodo(id, body) {\n  return function (dispatch) {\n    axios.patch(\"/todos/\".concat(id), body).then(function (res) {\n      dispatch({\n        type: TODO_EDITED,\n        payload: body,\n        id: id\n      });\n    })[\"catch\"](function (err) {});\n  };\n};\nexport var checkTodo = function checkTodo(id, body) {\n  return function (dispatch) {\n    axios.patch(\"/todos/check/\".concat(id), body).then(function (res) {\n      dispatch({\n        type: TODO_EDITED,\n        payload: body,\n        id: id\n      });\n    })[\"catch\"](function (err) {});\n  };\n}; // Setup config/headers and token\n\nexport var tokenConfig = function tokenConfig(token) {\n  // Headers\n  var config = {\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  }; // If token, add to headers\n\n  if (token) {\n    config.headers[\"x-auth-token\"] = token;\n  }\n\n  return config;\n};","map":{"version":3,"sources":["C:/Users/Bartosz/Desktop/TodoApp/redux/actions/todosActions.js"],"names":["TODO_ADDED","TODOS_LOADED","TODO_DELETED","TODO_EDITED","axios","loadTodos","userID","token","dispatch","post","tokenConfig","then","res","type","payload","data","err","console","log","addTodo","body","deleteTodo","id","editTodo","patch","checkTodo","config","headers"],"mappings":"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","sourcesContent":["import { TODO_ADDED, TODOS_LOADED, TODO_DELETED, TODO_EDITED } from \"../actions/types\";\r\nimport axios from \"axios\";\r\nexport const loadTodos = (userID, token) => (dispatch) => {\r\n    // Todos loading\r\n    axios\r\n        .post(`/todos`, { userID }, tokenConfig(token))\r\n        .then((res) => {\r\n            dispatch({ type: TODOS_LOADED, payload: res.data });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n};\r\nexport const addTodo = (body, token) => (dispatch) => {\r\n    axios\r\n        .post(`/todos/add`, body, tokenConfig(token))\r\n        .then((res) => {\r\n            dispatch({ type: TODO_ADDED, payload: res.data });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n};\r\nexport const deleteTodo = (id) => (dispatch) => {\r\n    axios\r\n        .delete(`/todos/${id}`)\r\n        .then((res) => {\r\n            dispatch({ type: TODO_DELETED, payload: id });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n};\r\nexport const editTodo = (id, body) => (dispatch) => {\r\n    axios\r\n        .patch(`/todos/${id}`, body)\r\n        .then((res) => {\r\n            dispatch({ type: TODO_EDITED, payload: body, id });\r\n        })\r\n        .catch((err) => {});\r\n};\r\nexport const checkTodo = (id, body) => (dispatch) => {\r\n    axios\r\n        .patch(`/todos/check/${id}`, body)\r\n        .then((res) => {\r\n            dispatch({ type: TODO_EDITED, payload: body, id });\r\n        })\r\n        .catch((err) => {});\r\n};\r\n// Setup config/headers and token\r\nexport const tokenConfig = (token) => {\r\n    // Headers\r\n    const config = {\r\n        headers: {\r\n            \"Content-type\": \"application/json\",\r\n        },\r\n    };\r\n\r\n    // If token, add to headers\r\n    if (token) {\r\n        config.headers[\"x-auth-token\"] = token;\r\n    }\r\n\r\n    return config;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}